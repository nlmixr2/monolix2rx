<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Qualify rxode2 model against Monolix • monolix2rx</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Qualify rxode2 model against Monolix">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">monolix2rx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/convert-nlmixr2.html"><span class="fa fa-arrow-right"></span> Converting</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/rxode2-validate.html"><span class="fa fa-check"></span> Qualify</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-simulation" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true"><span class="fa fa-dice"></span> Simulation</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-simulation">
<li><a class="dropdown-item" href="../articles/simulate-new-dosing.html">New Dosing Scenarios</a></li>
    <li><a class="dropdown-item" href="../articles/simulate-uncertainty.html">Simulating with Uncertainty</a></li>
    <li><a class="dropdown-item" href="../articles/simulate-extra-items.html">Simulating with Derived Variables</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reporting" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reporting</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reporting">
<li><a class="dropdown-item" href="../articles/create-office.html">Creating word and powerpoint documents</a></li>
    <li><a class="dropdown-item" href="../articles/create-vpc.html">Easily create VPC plots</a></li>
    <li><a class="dropdown-item" href="../articles/create-augPred.html">Create enriched Individual plots</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html"><span class="fa fa-file-code-o"></span> Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html"><span class="fa fas fa-rss"></span> News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nlmixr2/monolix2rx/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Qualify rxode2 model against Monolix</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/nlmixr2/monolix2rx/blob/main/vignettes/articles/rxode2-validate.Rmd" class="external-link"><code>vignettes/articles/rxode2-validate.Rmd</code></a></small>
      <div class="d-none name"><code>rxode2-validate.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nlmixr2.github.io/monolix2rx/" class="external-link">monolix2rx</a></span><span class="op">)</span></span>
<span><span class="co"># You use the path to the monolix mlxtran file</span></span>
<span></span>
<span><span class="co"># In this case we will us the theophylline project included in monolix2rx</span></span>
<span><span class="va">pkgTheo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"theo/theophylline_project.mlxtran"</span>, package<span class="op">=</span><span class="st">"monolix2rx"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Note you have to setup monolix2rx to use the model library or save</span></span>
<span><span class="co"># the model as a separate file</span></span>
<span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/monolix2rx.html">monolix2rx</a></span><span class="op">(</span><span class="va">pkgTheo</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> integrated model file 'oral1_1cpt_kaVCl.txt' into mlxtran object</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> updating model values to final parameter estimates</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> done</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> reading run info (# obs, doses, Monolix Version, etc) from summary.txt</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> done</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> reading covariance from FisherInformation/covarianceEstimatesLin.txt</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> done</span></span>
<span><span class="co">#&gt; Warning in .dataRenameFromMlxtran(data, .mlxtran): NAs introduced by coercion</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> imported monolix and translated to rxode2 compatible data (<span style="color: #0000BB; font-weight: bold;">$monolixData</span>)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> imported monolix ETAS (_SAEM) imported to rxode2 compatible data (<span style="color: #0000BB; font-weight: bold;">$etaData</span>)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> imported monolix pred/ipred data to compare (<span style="color: #0000BB; font-weight: bold;">$predIpredData</span>)</span></span>
<span><span class="co">#&gt; using C compiler: ‘gcc (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0’</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> solving ipred problem</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> done</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> solving pred problem</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> done</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span>
<span><span class="co">#&gt;  <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">rxode2-based free-form 2-cmt ODE model</span> <span style="color: #00BBBB;">──────────────────────────────────────</span> </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Initalization:</span> ──  </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Fixed Effects</span> (<span style="color: #0000BB; font-weight: bold;">$theta</span>): </span></span>
<span><span class="co">#&gt;      ka_pop       V_pop      Cl_pop           a           b </span></span>
<span><span class="co">#&gt;  0.42699448 -0.78635157 -3.21457598  0.43327956  0.05425953 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Omega</span> (<span style="color: #0000BB; font-weight: bold;">$omega</span>): </span></span>
<span><span class="co">#&gt;           omega_ka    omega_V   omega_Cl</span></span>
<span><span class="co">#&gt; omega_ka 0.4503145 0.00000000 0.00000000</span></span>
<span><span class="co">#&gt; omega_V  0.0000000 0.01594701 0.00000000</span></span>
<span><span class="co">#&gt; omega_Cl 0.0000000 0.00000000 0.07323701</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; States</span> (<span style="color: #0000BB; font-weight: bold;">$state</span> or <span style="color: #0000BB; font-weight: bold;">$stateDf</span>): </span></span>
<span><span class="co">#&gt;   Compartment Number Compartment Name</span></span>
<span><span class="co">#&gt; 1                  1            depot</span></span>
<span><span class="co">#&gt; 2                  2          central</span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">μ-referencing (</span><span style="color: #0000BB; font-weight: bold;">$muRefTable</span><span style="font-weight: bold;">):</span> ──  </span></span>
<span><span class="co">#&gt;    theta      eta level</span></span>
<span><span class="co">#&gt; 1 ka_pop omega_ka    id</span></span>
<span><span class="co">#&gt; 2  V_pop  omega_V    id</span></span>
<span><span class="co">#&gt; 3 Cl_pop omega_Cl    id</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  ── <span style="font-weight: bold;">Model (Normalized Syntax):</span> ── </span></span>
<span><span class="co">#&gt; function() {</span></span>
<span><span class="co">#&gt;     description &lt;- "The administration is extravascular with a first order absorption (rate constant ka).\nThe PK model has one compartment (volume V) and a linear elimination (clearance Cl).\nThis has been modified so that it will run without the model library"</span></span>
<span><span class="co">#&gt;     dfObs &lt;- 120</span></span>
<span><span class="co">#&gt;     dfSub &lt;- 12</span></span>
<span><span class="co">#&gt;     thetaMat &lt;- lotri({</span></span>
<span><span class="co">#&gt;         ka_pop ~ 0.09785</span></span>
<span><span class="co">#&gt;         V_pop ~ c(0.00082606, 0.00041937)</span></span>
<span><span class="co">#&gt;         Cl_pop ~ c(-4.2833e-05, -6.7957e-06, 1.1318e-05)</span></span>
<span><span class="co">#&gt;         omega_ka ~ c(omega_ka = 0.022259)</span></span>
<span><span class="co">#&gt;         omega_V ~ c(omega_ka = -7.6443e-05, omega_V = 0.0014578)</span></span>
<span><span class="co">#&gt;         omega_Cl ~ c(omega_ka = 3.062e-06, omega_V = -1.2912e-05, </span></span>
<span><span class="co">#&gt;             omega_Cl = 0.0039578)</span></span>
<span><span class="co">#&gt;         a ~ c(omega_ka = -0.0001227, omega_V = -6.5914e-05, omega_Cl = -0.00041194, </span></span>
<span><span class="co">#&gt;             a = 0.015333)</span></span>
<span><span class="co">#&gt;         b ~ c(omega_ka = -1.3886e-05, omega_V = -3.1105e-05, </span></span>
<span><span class="co">#&gt;             omega_Cl = 5.2805e-05, a = -0.0026458, b = 0.00056232)</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     validation &lt;- c("ipred relative difference compared to Monolix ipred: 0.04%; 95% percentile: (0%,0.52%); rtol=0.00038", </span></span>
<span><span class="co">#&gt;         "ipred absolute difference compared to Monolix ipred: 95% percentile: (0.000362, 0.00848); atol=0.00254", </span></span>
<span><span class="co">#&gt;         "pred relative difference compared to Monolix pred: 0%; 95% percentile: (0%,0%); rtol=6.6e-07", </span></span>
<span><span class="co">#&gt;         "pred absolute difference compared to Monolix pred: 95% percentile: (1.6e-07, 1.27e-05); atol=3.66e-06", </span></span>
<span><span class="co">#&gt;         "iwres relative difference compared to Monolix iwres: 0%; 95% percentile: (0.06%,32.22%); rtol=0.0153", </span></span>
<span><span class="co">#&gt;         "iwres absolute difference compared to Monolix pred: 95% percentile: (0.000403, 0.0138); atol=0.00305")</span></span>
<span><span class="co">#&gt;     ini({</span></span>
<span><span class="co">#&gt;         ka_pop &lt;- 0.426994483535611</span></span>
<span><span class="co">#&gt;         V_pop &lt;- -0.786351566327091</span></span>
<span><span class="co">#&gt;         Cl_pop &lt;- -3.21457597916301</span></span>
<span><span class="co">#&gt;         a &lt;- c(0, 0.433279557549051)</span></span>
<span><span class="co">#&gt;         b &lt;- c(0, 0.0542595276206251)</span></span>
<span><span class="co">#&gt;         omega_ka ~ 0.450314511978718</span></span>
<span><span class="co">#&gt;         omega_V ~ 0.0159470121255372</span></span>
<span><span class="co">#&gt;         omega_Cl ~ 0.0732370098834837</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt;     model({</span></span>
<span><span class="co">#&gt;         cmt(depot)</span></span>
<span><span class="co">#&gt;         cmt(central)</span></span>
<span><span class="co">#&gt;         ka &lt;- exp(ka_pop + omega_ka)</span></span>
<span><span class="co">#&gt;         V &lt;- exp(V_pop + omega_V)</span></span>
<span><span class="co">#&gt;         Cl &lt;- exp(Cl_pop + omega_Cl)</span></span>
<span><span class="co">#&gt;         d/dt(depot) &lt;- -ka * depot</span></span>
<span><span class="co">#&gt;         d/dt(central) &lt;- +ka * depot - Cl/V * central</span></span>
<span><span class="co">#&gt;         Cc &lt;- central/V</span></span>
<span><span class="co">#&gt;         CONC &lt;- Cc</span></span>
<span><span class="co">#&gt;         CONC ~ add(a) + prop(b) + combined1()</span></span>
<span><span class="co">#&gt;     })</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
<div class="section level3">
<h3 id="comparing-differences-between-monolix-and-rxode2">Comparing differences between <code>Monolix</code> and
<code>rxode2</code><a class="anchor" aria-label="anchor" href="#comparing-differences-between-monolix-and-rxode2"></a>
</h3>
<p>You may wish to see where the differences in predictions are between
Monolix and rxode2.</p>
<p>The <code>rxode2</code> generated outputs are compared with the
<code>Monolix</code> generated outputs for the following items:</p>
<ul>
<li><p><strong>Population Predictions:</strong> this shows if the model
translation is adequate to simulate general trends; This will validate
structural model’s population parameters coupled with the model
structure.</p></li>
<li><p><strong>Individual Predictions:</strong> this shows if the model
translation is able to replicate the same values over all the subjects
within the modeling data-set. This validates the model can reproduce the
between subject variability observed in the study.</p></li>
<li><p><strong>Individual Weighted Residuals:</strong> this is one step
further than the individual parameter validation, it couples the
individual predictions, the observations and the residual specification
to generate the individual weighted residuals. This is included to be
consistent with the <code>nonmem2rx</code> residuals. However, since
this is not needed to manually adjust the residual errors, this simply
looks at if the errors were converted correctly.</p></li>
</ul>
<p><strong>Note:</strong> the only part that is not validated with these
three metrics is the between subject covariance matrix,
<code>omega</code>. We assume this is correct as long as it is read in
correctly.</p>
</div>
<div class="section level2">
<h2 id="comparing-numerically">Comparing numerically<a class="anchor" aria-label="anchor" href="#comparing-numerically"></a>
</h2>
<p>If you want numerical differences, you can also get these from the
modified returned <code>ui</code> object. For the rtol, atol as follows
you have:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span><span class="op">$</span><span class="va">iwresAtol</span></span>
<span><span class="co">#&gt;         50% </span></span>
<span><span class="co">#&gt; 0.003054349</span></span>
<span><span class="va">mod</span><span class="op">$</span><span class="va">iwresRtol</span></span>
<span><span class="co">#&gt;        50% </span></span>
<span><span class="co">#&gt; 0.01526897</span></span>
<span><span class="va">mod</span><span class="op">$</span><span class="va">ipredAtol</span></span>
<span><span class="co">#&gt;         50% </span></span>
<span><span class="co">#&gt; 0.002537436</span></span>
<span><span class="va">mod</span><span class="op">$</span><span class="va">ipredRtol</span></span>
<span><span class="co">#&gt;          50% </span></span>
<span><span class="co">#&gt; 0.0003802867</span></span>
<span><span class="va">mod</span><span class="op">$</span><span class="va">predAtol</span></span>
<span><span class="co">#&gt;          50% </span></span>
<span><span class="co">#&gt; 3.657152e-06</span></span>
<span><span class="va">mod</span><span class="op">$</span><span class="va">predAtol</span></span>
<span><span class="co">#&gt;          50% </span></span>
<span><span class="co">#&gt; 3.657152e-06</span></span></code></pre></div>
<p>You can see they do not exactly match but are very close (I would say
they validate). However you can explore these difference further if you
wish by looking at the <code>ipredCompare</code> and
<code>predCompare</code> datasets:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mod</span><span class="op">$</span><span class="va">iwresCompare</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  time monolixIwres        iwres  cmt</span></span>
<span><span class="co">#&gt; 1  1  0.25 -1.397760000 -1.395682322 CONC</span></span>
<span><span class="co">#&gt; 2  1  0.57  0.000121543  0.003040162 CONC</span></span>
<span><span class="co">#&gt; 3  1  1.12  1.928970000  1.932039320 CONC</span></span>
<span><span class="co">#&gt; 4  1 12.12  0.440294000  0.431149277 CONC</span></span>
<span><span class="co">#&gt; 5  1  2.02  0.196493000  0.198287572 CONC</span></span>
<span><span class="co">#&gt; 6  1 24.37  0.713742000  0.699508374 CONC</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mod</span><span class="op">$</span><span class="va">ipredCompare</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  time monolixIpred    ipred  cmt</span></span>
<span><span class="co">#&gt; 1  1  0.25      3.72839 3.726960 CONC</span></span>
<span><span class="co">#&gt; 2  1  0.57      6.56990 6.567599 CONC</span></span>
<span><span class="co">#&gt; 3  1  1.12      8.74855 8.746027 CONC</span></span>
<span><span class="co">#&gt; 4  1 12.12      5.61508 5.621679 CONC</span></span>
<span><span class="co">#&gt; 5  1  2.02      9.47386 9.472175 CONC</span></span>
<span><span class="co">#&gt; 6  1 24.37      2.85999 2.868060 CONC</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mod</span><span class="op">$</span><span class="va">predCompare</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  time monolixPred  cmt     pred</span></span>
<span><span class="co">#&gt; 1  1  0.25     2.77640 CONC 2.776402</span></span>
<span><span class="co">#&gt; 2  1  0.57     4.99610 CONC 4.996088</span></span>
<span><span class="co">#&gt; 3  1  1.12     6.80090 CONC 6.800893</span></span>
<span><span class="co">#&gt; 4  1 12.12     3.21554 CONC 3.215548</span></span>
<span><span class="co">#&gt; 5  1  2.02     7.41259 CONC 7.412585</span></span>
<span><span class="co">#&gt; 6  1 24.37     1.09158 CONC 1.091582</span></span></code></pre></div>
<p>In these cases you can see that Monolix seems to round the values to
5 digits, while <code>rxode2</code> keeps everything since it is solved
in R directly.</p>
<p>Note this is the <strong>observation data only</strong> that is
compared. Dosing predictions are excluded from these comparisons.</p>
<p>You can also explore the Monolix translated input dataset that was
used to make the validation predictions (dosing and observations) by the
<code>$monolixData</code> item:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mod</span><span class="op">$</span><span class="va">monolixData</span><span class="op">)</span> <span class="co"># with nlme loaded you can also use getData(mod)</span></span>
<span><span class="co">#&gt;   id  amt time    dv WEIGHT SEX  cmt admd</span></span>
<span><span class="co">#&gt; 1  1 4.02 0.00    NA   79.6  NA &lt;NA&gt;   NA</span></span>
<span><span class="co">#&gt; 2  1   NA 0.25  2.84   79.6  NA &lt;NA&gt;   NA</span></span>
<span><span class="co">#&gt; 3  1   NA 0.57  6.57   79.6  NA &lt;NA&gt;   NA</span></span>
<span><span class="co">#&gt; 4  1   NA 1.12 10.50   79.6  NA &lt;NA&gt;   NA</span></span>
<span><span class="co">#&gt; 5  1   NA 2.02  9.66   79.6  NA &lt;NA&gt;   NA</span></span>
<span><span class="co">#&gt; 6  1   NA 3.82  8.58   79.6  NA &lt;NA&gt;   NA</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="comparing-visually">Comparing visually<a class="anchor" aria-label="anchor" href="#comparing-visually"></a>
</h2>
<p>The easiest way to visually compare the differences is by the plot
method:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span> <span class="co"># for general plot</span></span></code></pre></div>
<p><img src="rxode2-validate_files/figure-html/plot-1.png" width="700"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># you can also see individual comparisons</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod</span>, log<span class="op">=</span><span class="st">"y"</span>, ncol<span class="op">=</span><span class="fl">2</span>, nrow<span class="op">=</span><span class="fl">2</span>,</span>
<span>     xlab<span class="op">=</span><span class="st">"Time (hr)"</span>, ylab<span class="op">=</span><span class="st">"Concentrations"</span>,</span>
<span>     page<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="rxode2-validate_files/figure-html/plot-2.png" width="700"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># If you want all pages you could use:</span></span>
<span><span class="co">#</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mod</span>, log<span class="op">=</span><span class="st">"y"</span>, ncol<span class="op">=</span><span class="fl">2</span>, nrow<span class="op">=</span><span class="fl">2</span>,</span>
<span>     xlab<span class="op">=</span><span class="st">"Time (hr)"</span>, ylab<span class="op">=</span><span class="st">"Concentrations"</span>,</span>
<span>     page<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="rxode2-validate_files/figure-html/plot-3.png" width="700"><img src="rxode2-validate_files/figure-html/plot-4.png" width="700"><img src="rxode2-validate_files/figure-html/plot-5.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="notes-on-validation">Notes on validation<a class="anchor" aria-label="anchor" href="#notes-on-validation"></a>
</h2>
<p>The validation of the model uses the best data available for Monolix
estimates. This is:</p>
<ul>
<li>
<code>theta</code> or population parameters</li>
<li>
<code>eta</code> or individual parameters</li>
</ul>
<p>The <code>omega</code> and <code>sigma</code> matrices are captured.
When the nlmixr2 model is fully qualified, the <code>IWRES</code>
validation ensures the residual errors are specified correctly.
Otherwise <code>omega</code> and <code>sigma</code> values do not
contribute to the validation. Also the overall covariance is captured,
but not used in the validation.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthew Fidler.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
